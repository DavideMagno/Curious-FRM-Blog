<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Coding on The CuRious Financial Risk ManageR</title>
    <link>/tags/coding/</link>
    <description>Recent content in Coding on The CuRious Financial Risk ManageR</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 16 Jul 2019 00:00:00 +0000</lastBuildDate>
    
        <atom:link href="/tags/coding/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Pricing floating legs of interest rate swaps</title>
      <link>/2019/07/downloading-variable-rate/</link>
      <pubDate>Tue, 16 Jul 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/07/downloading-variable-rate/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;In this post we will close the trilogy on (old style) swap pricing. In particular, we will look at how downloading the data for the variable rate needed to calculate the variable leg accrual.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://www.curiousfrm.com/2019/03/using-the-tidyverse-for-swap-pricing/&#34;&gt;Part 1&lt;/a&gt;
gave the general idea behind tidy pricing interest rate swaps using a 7 lines
pipe&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://www.curiousfrm.com/2019/04/real-world-tidy-interest-rate-swap-pricing/&#34;&gt;Part 2&lt;/a&gt;
went much more into detail and priced some real world contract comparing the results
obtained vs Bloomberg and showing significantly good results.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The only part missing was calculating the accrual for the floating leg. To do this
we need the information about the historical level of the interest rate to which the leg
is linked.&lt;/p&gt;
&lt;p&gt;For standard EUR contracts, this rate is the 6 months’ EURIBOR. For those of you
who are interested in understanding more what this rate is can go &lt;a href=&#34;https://www.euribor-rates.eu/what-is-euribor.asp&#34;&gt;this link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Sourcing the data is not a problem, but doing it the &lt;code&gt;R&lt;/code&gt; way (ie. for free), can be.&lt;/p&gt;
&lt;p&gt;Luckily the awesome &lt;a href=&#34;https://www.quandl.com/&#34;&gt;Quandl&lt;/a&gt; data provider actually
provides the information we need. &lt;em&gt;Quandl&lt;/em&gt; is a premier source for financial, economic, and alternative datasets, serving investment professionals. Quandl’s platform is used by over 400,000 people, including analysts from the world’s top hedge funds, asset managers and investment banks.&lt;/p&gt;
&lt;p&gt;Pulling data from Quandl is very easy using the &lt;code&gt;Quandl&lt;/code&gt; package available on &lt;em&gt;CRAN&lt;/em&gt;
Its logic is quite simple:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Quandl::Quandl(code, start_date, end_date)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;where &lt;em&gt;code&lt;/em&gt; is a unique identifier that can be sourced from the Quandl website.&lt;/p&gt;
&lt;p&gt;In particular, we shoudl be grateful to the &lt;em&gt;Bank of France&lt;/em&gt; which provides all
the interest rate information we need. Going on their
&lt;a href=&#34;https://www.quandl.com/data/BOF-Bank-of-France&#34;&gt;page&lt;/a&gt; we can in fact find that
the code for the 6 months EURIBOR rate is “BOF/QS_D_IEUTIO6M”.&lt;/p&gt;
&lt;p&gt;Let’s then see what the output of this very simple function is with our code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rates &amp;lt;- Quandl::Quandl(&amp;quot;BOF/QS_D_IEUTIO6M&amp;quot;, 
               start_date = lubridate::dmy(&amp;quot;01-01-2018&amp;quot;), 
               end_date = lubridate::dmy(&amp;quot;31-12-2018&amp;quot;))

rates %&amp;gt;% 
  knitr::kable(caption = &amp;quot;Output from Quandl&amp;quot;, &amp;quot;html&amp;quot;) %&amp;gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&amp;quot;striped&amp;quot;, &amp;quot;hover&amp;quot;, &amp;quot;condensed&amp;quot;, &amp;quot;responsive&amp;quot;)) %&amp;gt;% 
   kableExtra::scroll_box(height = &amp;quot;500px&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div style=&#34;border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; &#34;&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed table-responsive&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-2&#34;&gt;Table 1: &lt;/span&gt;Output from Quandl
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Date
&lt;/th&gt;
&lt;th style=&#34;text-align:right;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Value
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-31
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.237
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.237
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.237
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.238
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.238
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.238
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.238
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-17
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.237
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.238
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.239
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.241
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.244
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.245
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.246
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.246
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.246
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.247
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-12-03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.248
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.251
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-29
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.253
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.256
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.256
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.256
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.258
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.258
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.257
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.258
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-11-01
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.258
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-31
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.259
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.259
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-29
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.259
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.259
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.259
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.259
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.259
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.261
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.262
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.265
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-17
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.265
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-10-01
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-17
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-09-03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-31
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-29
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.265
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-17
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.266
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-08-01
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-31
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-17
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-07-02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-29
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.268
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.267
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-06-01
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-31
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-29
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-17
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.272
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-05-02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.269
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-17
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-04-03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-29
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.272
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.273
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.272
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.272
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.272
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.272
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.272
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-03-01
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-27
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.270
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-20
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.273
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.274
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.274
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.276
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-14
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.276
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-13
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.276
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-07
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-06
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.279
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-02-01
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-31
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.279
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-30
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-29
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-26
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-25
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-24
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.278
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-23
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.276
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.277
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-19
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.276
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.275
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-17
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.274
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-16
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.272
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-15
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.274
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-12
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-10
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-09
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-08
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-05
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-04
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-03
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
2018-01-02
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.271
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;We now have to incorporate this code into the overall coding strategy described
in the &lt;a href=&#34;https://www.curiousfrm.com/2019/04/real-world-tidy-interest-rate-swap-pricing/&#34;&gt;previous post&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Before we dive in how I coded this, let’s see how I changed the data structure of
how a swap is defined:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;swap.25y &amp;lt;- list(notional = 10000000,
                  start.date = lubridate::ymd(20070119),
                  maturity.date = lubridate::ymd(20320119), 
                  strike = 0.00059820,
                  type = &amp;quot;receiver&amp;quot;, 
                  time.unit = list(pay = 6, receive = 12), 
                  dcc = list(pay = 0, receive = 6), 
                  calendar = &amp;quot;TARGET&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This new data structure now allows to define - as it should be - different
characteristics (like coupon frequency or day count convention) for the different
legs (&lt;code&gt;payer&lt;/code&gt; and &lt;code&gt;receiver&lt;/code&gt;) of the swap. In particular, we can specify in the
&lt;code&gt;type&lt;/code&gt; variable whether the swap is a receiver or a payer one.&lt;/p&gt;
&lt;p&gt;Let’s look atthe code now. The function that gets modified the most is the
&lt;code&gt;SwapCashflowYFCalculation&lt;/code&gt; which I have re-named as &lt;code&gt;CashFlowPricing&lt;/code&gt; one
which now looks as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;CashFlowPricing  &amp;lt;- function(today, start.date, maturity.date, type,
                                     time.unit, dcc, calendar) {
  # Part 1: Calculate the whole cashflow dates
  cashflows &amp;lt;- seq(from = 0,
                   to = (lubridate::year(maturity.date) -
                           lubridate::year(start.date)) * 12,
                   by = time.unit) %&amp;gt;%
    purrr::map_dbl(~RQuantLib::advance(calendar = calendar,
                                       dates = start.date,
                                       n = .x,
                                       timeUnit = 2,
                                       bdc = 1,
                                       emr = TRUE)) %&amp;gt;%
    lubridate::as_date() %&amp;gt;%
    {if (start.date &amp;lt; today) append(today, .) else .}

  # Part 2: calculate accrual and rate fixing days
  accrual.date &amp;lt;- cashflows[today - cashflows &amp;gt; 0]

  if (!identical(as.double(accrual.date), double(0))) {
    accrual.date  %&amp;lt;&amp;gt;%  max()
    if (stringr::str_detect(type, &amp;quot;floating&amp;quot;)) {
      fixing.date &amp;lt;- accrual.date %&amp;gt;%
        {RQuantLib::advance(calendar = calendar,
                            dates = .,
                            n = -2,
                            timeUnit = 0,
                            bdc = 1,
                            emr = TRUE)}
    } else {
      fixing.date &amp;lt;- NULL
    }
    accrual.yf &amp;lt;- accrual.date %&amp;gt;%
      {RQuantLib::yearFraction(today, ., dcc)} %&amp;gt;%
      `*`(-1)
  } else {
    fixing.date &amp;lt;- NULL
    accrual.yf &amp;lt;- 0
  }

  # Part 3: Tidy and return the list of relevant dates
  cashflows %&amp;lt;&amp;gt;%
    purrr::map_dbl(~RQuantLib::yearFraction(today, .x, dcc)) %&amp;gt;%
    tibble::tibble(yf = .) %&amp;gt;%
    dplyr::filter(yf &amp;gt;= 0)

  return(list(cashflows = cashflows, accrual.yf = accrual.yf,
              fixing.date = fixing.date))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s analyise the code:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Part 1 is actually the core of the code previously described&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Part 2 is the new code. &lt;code&gt;accrual.date&lt;/code&gt; is the date from which the accrual starts
to be calculated. This gets converted into a year fraction and saved into &lt;code&gt;accrual.yf&lt;/code&gt;.
The if statement calculates the date at which the floating EURIBOR rate has to
be snapped from Quandl only for the floating rate. This date is stored in the
&lt;code&gt;fixing.date&lt;/code&gt; variable and it considers a 2 days lag which is standard for the
European market.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Part 3 finally converts and returns all the future cashflows in terms of
year fraction&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can note that we now calculate the cashflows for the floating leg even if
it will note be used by the &lt;code&gt;OLDParSwapRate&lt;/code&gt; function. This will be needed for
future developments when we will introduce the OIS discounting…(stay tuned!!)&lt;/p&gt;
&lt;p&gt;I can now calculate the accrual and for this purpose I developed a brand new function
called &lt;code&gt;CalculateAccrual&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;CalculateAccrual &amp;lt;- function(swap.dates, leg.type, swap, direction) {
  # Part 1: calculate the accrual rate
  if (!is.null(swap.dates$fixing.date)) {
    rate &amp;lt;- Quandl::Quandl(&amp;quot;BOF/QS_D_IEUTIO6M&amp;quot;,
                           start_date = swap.dates$fixing.date,
                           end_date = swap.dates$fixing.date) %&amp;gt;%
      tibble::as_tibble(.) %&amp;gt;%
      dplyr::select(Value) %&amp;gt;%
      as.double %&amp;gt;%
      `/`(100)
  } else {
    rate &amp;lt;- swap$strike
  }
  # Part 2: Calculate the value of the accrual
  swap.dates %&amp;gt;%
    purrr::pluck(&amp;quot;accrual.yf&amp;quot;) %&amp;gt;%
    `*`(swap$notional * rate * switch(leg.type, &amp;quot;pay&amp;quot; = -1, &amp;quot;receive&amp;quot; = 1))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is smaller and easier function:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Part 1: for floating legs we use Quandl to download the needed data and extract
the rate information. For the fixed one, we just use the strike of the swap.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Part 2: we calculate the actual accrual amount using the classical function&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let’s see the final result on the 25 years’ swap we use as test:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 7
##   swap.id  clean.mv dirty.mv accrual.pay accrual.receive     par    pv01
##   &amp;lt;chr&amp;gt;       &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;
## 1 Swap 25y -881815. -874994.       5441.           1379. 0.00771 -12394.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s compare the result with the Bloomberg screenshot&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/2019-07-08-downloading-variable-rate_files/Pricing%2025yrs%20floating.png&#34; /&gt;
You can see that we now perfectly price also the receiving accrual and, of course,
also the total one.&lt;/p&gt;
&lt;p&gt;We finish today’s post by looking at the pricing of the basket. You can see that
now the algorithm correctly identifies what are the floating and the fixed legs
depending on the type of the swap (ie receiver or payer).&lt;/p&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed table-responsive&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-7&#34;&gt;Table 2: &lt;/span&gt;Pricing results
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
swap.id
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
clean.mv
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
dirty.mv
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
accrual.pay
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
accrual.receive
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
par
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
pv01
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Swap 25y
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-881,814.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-874,994.32
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
5,441.11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1,379.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.77%
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-12,393.65
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Swap 30y
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
233,691.75
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
123,999.52
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-97,222.22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-12,470.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.11%
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
20,867.00
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Swap 10y
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
222,083.28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
236,146.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
6,702.22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7,361.11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.14%
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-5,724.42
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Swap 2y16y
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
360,095.21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
360,095.21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.18%
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-11,163.37
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>Real world tidy interest rate swap pricing</title>
      <link>/2019/04/real-world-tidy-interest-rate-swap-pricing/</link>
      <pubDate>Thu, 25 Apr 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/04/real-world-tidy-interest-rate-swap-pricing/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;In this post I will show how easy is to price a portfolio of swaps leveraging the &lt;strong&gt;purrr&lt;/strong&gt; package and given the swap pricing functions that we introduced in a &lt;a href=&#34;https://www.curiousfrm.com/2019/03/using-the-tidyverse-for-swap-pricing/&#34;&gt;previous post&lt;/a&gt;. I will do this in a “real world” environment hence using real market data as per the last 14th of April.&lt;/p&gt;
&lt;!-- more --&gt;
&lt;div id=&#34;import-the-discount-factors-from-bloomberg&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Import the discount factors from Bloomberg&lt;/h3&gt;
&lt;p&gt;Let’s start the pricing of the swap portfolio with purrr by loading from an external source the EUR discount factor curve. My source is &lt;em&gt;Bloomberg&lt;/em&gt; and in particular the &lt;em&gt;SWPM&lt;/em&gt; page, which allows all the Bloomberg users to price interest rate sensitive instruments. It also contains a tab with the curve information, which is the source of my curve. It is partly represented in the screenshot below and also as per the following table.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/2019-04-24-real-world-tidy-interest-rate-swap-pricing_files/SWPM%20screenshot.png&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;today &amp;lt;- lubridate::ymd(20190414)

ir_curve &amp;lt;- readr::read_csv(here::here(&amp;quot;data/Basket of IRS/Curve at 140419.csv&amp;quot;))

ir_curve %&amp;gt;% 
  knitr::kable(caption = &amp;quot;Input from Bloomberg&amp;quot;, &amp;quot;html&amp;quot;) %&amp;gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&amp;quot;striped&amp;quot;, &amp;quot;hover&amp;quot;, &amp;quot;condensed&amp;quot;, &amp;quot;responsive&amp;quot;)) %&amp;gt;% 
  kableExtra::scroll_box(width = &amp;quot;750px&amp;quot;, height = &amp;quot;200px&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div style=&#34;border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:750px; &#34;&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed table-responsive&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-2&#34;&gt;Table 1: &lt;/span&gt;Input from Bloomberg
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Maturity Date
&lt;/th&gt;
&lt;th style=&#34;text-align:right;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Market Rate
&lt;/th&gt;
&lt;th style=&#34;text-align:right;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Shift (bp)
&lt;/th&gt;
&lt;th style=&#34;text-align:right;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Shifted Rate
&lt;/th&gt;
&lt;th style=&#34;text-align:right;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Zero Rate
&lt;/th&gt;
&lt;th style=&#34;text-align:right;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Discount
&lt;/th&gt;
&lt;th style=&#34;text-align:left;position: sticky; top:0; background-color: #FFFFFF;&#34;&gt;
Source
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/15/2019
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.364000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.364000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.3640000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
CASH
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/23/2019
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.378000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.378000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.3780000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0000735
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
CASH
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
05/16/2019
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.367000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.367000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.3670000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0003059
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
CASH
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
07/16/2019
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.310000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.310000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.3100000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0007842
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
CASH
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
10/16/2019
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.232000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.232000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.2320000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0011807
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
CASH
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2020
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.227000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.227000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.2293661
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0023373
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
FRA
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
10/16/2020
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.191000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.191000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.2164290
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0033115
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
FRA
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2021
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.199250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.199250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.1992838
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0039976
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/19/2022
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.130500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.130500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.1306045
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0039393
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/17/2023
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.039750
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.039750
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.0398284
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.0015958
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2024
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.055250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.055250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.0554430
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9972325
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2025
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.154250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.154250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.1550852
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9907452
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2026
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.256500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.256500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.2584914
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9820912
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2027
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.357250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.357250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.3609696
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9715859
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/18/2028
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.458250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.458250
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.4644039
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9591332
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2029
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.552400
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.552400
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.5615329
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9455427
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2030
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.638500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.638500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.6510037
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9311096
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2031
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.716500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.716500
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.7326481
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9161298
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/17/2034
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.901000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.901000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.9281277
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8705738
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/18/2039
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.071000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.071000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1106319
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.8017461
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/19/2044
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.134000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.134000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1759181
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.7464983
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/20/2049
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.152000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.152000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1905737
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.7010373
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2054
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.150000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.150000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1826028
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.6626670
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2059
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.140249
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.140249
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1661657
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.6289098
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2064
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.131000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.131000
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1512813
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.5974307
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
04/16/2069
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.120999
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.120999
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.1359681
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.5684840
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
SWAP
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p&gt;We now wrangle this data in order to get a two columns tibble containing the time to maturity and the discount factors for each pillar points on the curve. We us a &lt;em&gt;30/360&lt;/em&gt; day count convention because it is the standard for the EUR swaps.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df.table &amp;lt;- ir_curve %&amp;gt;% 
  dplyr::mutate(`Maturity Date` = lubridate::mdy(`Maturity Date`)) %&amp;gt;% 
  dplyr::rowwise(.) %&amp;gt;% 
  dplyr::mutate(t2m = RQuantLib::yearFraction(today, `Maturity Date`, 6)) %&amp;gt;% 
  na.omit %&amp;gt;% 
  dplyr::select(t2m, Discount) %&amp;gt;%
  dplyr::rename(df = Discount) %&amp;gt;% 
  dplyr::ungroup(.) %&amp;gt;% 
  dplyr::bind_rows(c(t2m = 0,df = 1)) %&amp;gt;% 
  dplyr::arrange(t2m)

ggplot2::ggplot(df.table, ggplot2::aes(x = t2m, y = df)) + 
  ggplot2::geom_point() +
  ggplot2::geom_line(colour = &amp;quot;blue&amp;quot;) +
  ggplot2::ggtitle(&amp;quot;Discount Factor curve at 14th of April 2019&amp;quot;) +
  ggplot2::xlab(&amp;quot;Time to maturity&amp;quot;) +
  ggplot2::ylab(&amp;quot;Discount Factor&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2019-04-24-real-world-tidy-interest-rate-swap-pricing_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;interest-rate-swap-pricing-functions&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Interest Rate Swap pricing functions&lt;/h3&gt;
&lt;p&gt;I am now going to re-use the pricing functions that have been already described in a &lt;a href=&#34;https://www.curiousfrm.com/2019/03/using-the-tidyverse-for-swap-pricing/&#34;&gt;previous post&lt;/a&gt;. I have tidied them up a bit and given proper names, but the description still fully holds.&lt;/p&gt;
&lt;p&gt;Let’s start from the one that calculates the swap cashflows.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;SwapCashflowYFCalculation  &amp;lt;- function(today, start.date, maturity.date,
                                       time.unit, dcc, calendar) {
  0:((lubridate::year(maturity.date) - lubridate::year(start.date)) *
       (4 - time.unit)) %&amp;gt;% 
    purrr::map_dbl(~RQuantLib::advance(calendar = calendar,
                                       dates = start.date,
                                       n = .x,
                                       timeUnit = time.unit,
                                       bdc = 1,
                                       emr = TRUE)) %&amp;gt;%
    lubridate::as_date() %&amp;gt;%
    {if (start.date &amp;lt; today) append(today, .) else .} %&amp;gt;%
    purrr::map_dbl(~RQuantLib::yearFraction(today, .x, dcc)) %&amp;gt;% 
    tibble::tibble(yf = .) 
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You may have noticed that I added one row &lt;code&gt;{if (start.date &amp;lt; today) append(today, .) else .}&lt;/code&gt;. This allows to properly manage the pricing of swaps with a starting date before today.&lt;/p&gt;
&lt;p&gt;I now proceed with calculating the actual par swap rate, which is a key input to the pricing formula. You can notice in the function below that I use a linear interpolation on the log of the discount factors. This is in line with one of the Bloomberg options. It is proven that it:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;provides step constant forward rates&lt;/li&gt;
&lt;li&gt;locally stabilises the bucketed sensitivities&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Also the (old) swap rate pricing function is the same, we only filter for future cashflows as we want to be able to price swaps with a starting date before today.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;OLDParSwapRate &amp;lt;- function(swap.cf){
  swap.cf %&amp;lt;&amp;gt;% 
    dplyr::filter(yf &amp;gt;= 0)
    
  num &amp;lt;- (swap.cf$df[1] - swap.cf$df[dim(swap.cf)[1]])
  annuity &amp;lt;- (sum(diff(swap.cf$yf)*swap.cf$df[2:dim(swap.cf)[1]]))
  return(list(swap.rate = num/annuity,
              annuity = annuity))
}

ParSwapRateCalculation &amp;lt;- function(swap.cf.yf, df.table) {
  swap.cf.yf  %&amp;gt;% 
    dplyr::mutate(df = approx(df.table$t2m, log(df.table$df), .$yf) %&amp;gt;%
                    purrr::pluck(&amp;quot;y&amp;quot;) %&amp;gt;% 
                    exp) %&amp;gt;%
    OLDParSwapRate
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I now want to introduce two new functions which are needed for calculating the actual market values:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the first one extracts the year fraction for the accrual calculation&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the second one calculates the main characteristics of a swap:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the par swap rate&lt;/li&gt;
&lt;li&gt;the pv01 (or analytic delta)&lt;/li&gt;
&lt;li&gt;the clean market value&lt;/li&gt;
&lt;li&gt;the accrual for the fixed rate leg&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I have defined a variable &lt;code&gt;direction&lt;/code&gt; which represents the type of swap:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;if it is equal to &lt;code&gt;1&lt;/code&gt; then it is a &lt;em&gt;receiver&lt;/em&gt; swap&lt;/li&gt;
&lt;li&gt;if it is equal to &lt;code&gt;-1&lt;/code&gt; then it is a &lt;em&gt;payer&lt;/em&gt; swap&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;CalculateAccrual &amp;lt;- function(swap.cf){
  swap.cf %&amp;gt;% 
    dplyr::filter(yf &amp;lt; 0) %&amp;gt;% 
    dplyr::select(yf) %&amp;gt;% 
    dplyr::arrange(dplyr::desc(yf)) %&amp;gt;% 
    dplyr::top_n(1) %&amp;gt;% 
    as.double %&amp;gt;% 
    {if (is.na(.)) 0 else .}
}

SwapCalculations &amp;lt;- function(swap.cf.yf, notional, strike, direction, df.table) {
  swap.par.pricing &amp;lt;- ParSwapRateCalculation(swap.cf.yf, df.table)
  
  mv &amp;lt;- notional * swap.par.pricing$annuity * (strike - swap.par.pricing$swap.rate) *
    direction
    
  accrual.fixed &amp;lt;- swap.cf.yf %&amp;gt;% 
    CalculateAccrual %&amp;gt;% 
    `*`(notional * strike * direction * -1)
  
  pv01 &amp;lt;- notional/10000 * swap.par.pricing$annuity * direction
  
  list(clean.mv = mv, accrual.fixed = accrual.fixed, par = swap.par.pricing$swap.rate, 
       pv01 = pv01)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We then put everything together with the following pricing pipe:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;SwapPricing &amp;lt;- function(today, swap, df.table) {
  SwapCashflowYFCalculation(today, swap$start.date, 
                                       swap$maturity.date, swap$time.unit, 
                                       swap$dcc, swap$calendar) %&amp;gt;% 
    SwapCalculations(swap$notional, swap$strike, swap$direction, df.table)
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;pricing-a-swap&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Pricing a swap&lt;/h3&gt;
&lt;p&gt;It’s showtime! :-) Let’s test our pricing function on a swap that we define as a list. This is a EUR 10m notional receiver swap starting on the 19th of January 2007 with 25 years of maturity. The paying dates are calculated using the modified following rule and the day count convention is 30/360.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;swap.25y &amp;lt;- list(notional = 10000000,
                 start.date = lubridate::ymd(20070119),
                 maturity.date = lubridate::ymd(20320119),
                 strike = 0.00059820,
                 direction = 1,
                 time.unit = 3,
                 dcc = 6,
                 calendar = &amp;quot;TARGET&amp;quot;)


SwapPricing(today, swap.25y, df.table)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## $clean.mv
## [1] -881814.6
## 
## $accrual.fixed
## [1] 1379.183
## 
## $par
## [1] 0.007713252
## 
## $pv01
## [1] 12393.65&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can compare the results with the actual Bloomberg output:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/2019-04-24-real-world-tidy-interest-rate-swap-pricing_files/Pricing%2025%20years%20swap.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can notice that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the par rate is exact to less than 1bp&lt;/li&gt;
&lt;li&gt;the clean market price difference is less than 0.2 dv01s&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can therefore say that the pricing functions have been validated.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;pricing-a-basket-of-swaps&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Pricing a basket of swaps&lt;/h3&gt;
&lt;p&gt;With &lt;strong&gt;purrr&lt;/strong&gt; it is &lt;strong&gt;very&lt;/strong&gt; easy to vectorise the &lt;code&gt;SwapPricing&lt;/code&gt; hence the pricing of a portfolio of swaps is seemingless.&lt;/p&gt;
&lt;p&gt;I firstly have to define a number of different contracts, including a forward starting one.
I then combine all of them in a list and let the power of &lt;code&gt;map.df&lt;/code&gt; do the magic.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;swap.30y &amp;lt;- list(notional = 10000000,
                 start.date = lubridate::ymd(20120424),
                 maturity.date = lubridate::ymd(20420424),
                 strike = 0.01,
                 direction = -1,
                 time.unit = 3,
                 dcc = 6,
                 calendar = &amp;quot;TARGET&amp;quot;)

swap.10y &amp;lt;- list(notional = 20000000,
                 start.date = lubridate::ymd(20120221),
                 maturity.date = lubridate::ymd(20220221),
                 strike = 0.0025,
                 direction = 1,
                 time.unit = 3,
                 dcc = 6,
                 calendar = &amp;quot;TARGET&amp;quot;)

swap.2y.16y &amp;lt;- list(notional = 7500000,
                 start.date = lubridate::ymd(20210414),
                 maturity.date = lubridate::ymd(20370414),
                 strike = 0.015,
                 direction = 1,
                 time.unit = 3,
                 dcc = 6,
                 calendar = &amp;quot;TARGET&amp;quot;)
swaps &amp;lt;- list(swap.25y = swap.25y, swap.30y = swap.30y, swap.10y = swap.10y, 
     swap.2y.16y = swap.2y.16y) 


pricing.result &amp;lt;- swaps %&amp;gt;% 
  purrr::map_df(~SwapPricing(today, .x, df.table)) %&amp;gt;% 
  dplyr::mutate(swap.id = names(swaps)) %&amp;gt;% 
  dplyr::select(swap.id, dplyr::everything())&lt;/code&gt;&lt;/pre&gt;
&lt;table class=&#34;table table-striped table-hover table-condensed table-responsive&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-10&#34;&gt;Table 2: &lt;/span&gt;Pricing results
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
swap.id
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
clean.mv
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
accrual.fixed
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
par
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
pv01
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
swap.25y
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-881,814.61
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1,379.18
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
0.77%
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
12,393.65
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
swap.30y
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
233,691.75
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-97,222.22
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.11%
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-20,867.00
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
swap.10y
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
222,083.28
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
7,361.11
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.14%
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
5,724.42
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
swap.2y.16y
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
360,095.21
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
-0.00
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
1.18%
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
11,163.37
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;This is it for today. In the next post I will finish the pricing of this book of swaps calculating the accrual of the floating leg - which requires a bit of web scraping. Stay tuned.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>US Federal Spending Analysis</title>
      <link>/2019/02/us-federal-spending-analysis/</link>
      <pubDate>Mon, 11 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/02/us-federal-spending-analysis/</guid>
      <description>&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;This week&amp;#39;s &lt;a href=&#34;https://twitter.com/hashtag/TidyTuesday?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#TidyTuesday&lt;/a&gt; is about federal spending. &lt;br&gt;&lt;br&gt;I was interested in understanding if spending had shifted towards clean energy sub-agencies in the last 20 years. Spoiler alert: unfortunately no! 😰&lt;a href=&#34;https://twitter.com/hashtag/Rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#Rstats&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/tidyverse?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#tidyverse&lt;/a&gt; cc &lt;a href=&#34;https://twitter.com/thomas_mock?ref_src=twsrc%5Etfw&#34;&gt;@thomas_mock&lt;/a&gt; &lt;a href=&#34;https://twitter.com/R4DScommunity?ref_src=twsrc%5Etfw&#34;&gt;@R4DScommunity&lt;/a&gt; &lt;a href=&#34;https://t.co/AbQzheSagU&#34;&gt;pic.twitter.com/AbQzheSagU&lt;/a&gt;&lt;/p&gt;&amp;mdash; Davide Magno (@DavideMagno) &lt;a href=&#34;https://twitter.com/DavideMagno/status/1095446547091853319?ref_src=twsrc%5Etfw&#34;&gt;February 12, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

</description>
    </item>
    
    <item>
      <title>Geospatial Analysis on Housing Price Index</title>
      <link>/2019/02/geospatial-analysis-on-housing-price-index/</link>
      <pubDate>Sun, 10 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/02/geospatial-analysis-on-housing-price-index/</guid>
      <description>&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;Here&amp;#39;s my &lt;a href=&#34;https://twitter.com/hashtag/TidyTuesday?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#TidyTuesday&lt;/a&gt; submission.I studied the total increase in the housing index for each US State compared to the US federal index. No surprise in California house price has increased much more than the rest of US.The &lt;a href=&#34;https://twitter.com/hashtag/mapdata?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#mapdata&lt;/a&gt; library was 👍🏼&lt;a href=&#34;https://twitter.com/thomas_mock?ref_src=twsrc%5Etfw&#34;&gt;@thomas_mock&lt;/a&gt; &lt;a href=&#34;https://twitter.com/R4DScommunity?ref_src=twsrc%5Etfw&#34;&gt;@R4DScommunity&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; &lt;a href=&#34;https://t.co/sYI1zKhIpC&#34;&gt;pic.twitter.com/sYI1zKhIpC&lt;/a&gt;&lt;/p&gt;&amp;mdash; Davide Magno (@DavideMagno) &lt;a href=&#34;https://twitter.com/DavideMagno/status/1094707858367758337?ref_src=twsrc%5Etfw&#34;&gt;February 10, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

</description>
    </item>
    
    <item>
      <title>My First #TidyTuesday Submission</title>
      <link>/2019/02/my-first-tidytuesday-submission/</link>
      <pubDate>Sun, 03 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/02/my-first-tidytuesday-submission/</guid>
      <description>&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;Finally my first &lt;a href=&#34;https://twitter.com/hashtag/TidyTuesday?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#TidyTuesday&lt;/a&gt; submission! 🎊🎉I am starting from week 1 2019 but I will catch up soon😉When do people submit their visualisations?Mostly on Tuesday and Wednesday afternoon, but also on Monday before the new set is released &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/ggplot?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ggplot&lt;/a&gt; &lt;a href=&#34;https://twitter.com/rstats4ds?ref_src=twsrc%5Etfw&#34;&gt;@rstats4ds&lt;/a&gt; &lt;a href=&#34;https://twitter.com/thomas_mock?ref_src=twsrc%5Etfw&#34;&gt;@thomas_mock&lt;/a&gt; &lt;a href=&#34;https://t.co/pKZAyL8vp1&#34;&gt;pic.twitter.com/pKZAyL8vp1&lt;/a&gt;&lt;/p&gt;&amp;mdash; Davide Magno (@DavideMagno) &lt;a href=&#34;https://twitter.com/DavideMagno/status/1092142256373620739?ref_src=twsrc%5Etfw&#34;&gt;February 3, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

</description>
    </item>
    
  </channel>
</rss>
